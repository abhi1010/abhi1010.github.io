<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Coders Digest &middot; Abhishek Pandey</title>

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="http://abhipandey.com/css/poole.css?ref=abc124">
  <link rel="stylesheet" href="http://abhipandey.com/css/hyde.css?ref=abc124">
  <link rel="stylesheet" href="http://abhipandey.com/css/poole-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://abhipandey.com/css/hyde-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://abhipandey.com/css/hyde-a.css?ref=abc124">
  <link rel="stylesheet" href="http://abhipandey.com/css/custom-additions.css?ref=abc124">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://abhipandey.com/touch-icon-144-precomposed.png?ref=abc124">
  <link href="http://abhipandey.com/favicon.png?ref=abc124" rel="icon">

  
  
  
  <link href="http://abhipandey.com/index.xml" rel="alternate" type="application/rss+xml" title="Coders Digest &middot; Abhishek Pandey" />

  <meta name="description" content="C&#43;&#43;/python/bash code; How to automate and deploy your applications">
  <meta name="keywords" content="aws,deploy,elastic beanstalk,beanstalk,python,c&#43;&#43;,continuous delivery,tips,code,docker,bash,linux">
  
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68135443-1', 'auto');
      ga('send', 'pageview');
  </script>

</head>
<body class="theme-base-aa">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1><a href="http://abhipandey.com/">Coder&rsquo;s Digest</a></h1>
      <a href="http://abhipandey.com/"><p>Abhishek Pandey</p></a>
    </div>

    <ul class="sidebar-nav">
      
      <li class="sidebar-nav-item"><a href="http://abhipandey.com/post/">Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="http://abhipandey.com/tags/">Tags</a></li>
      
      <li class="sidebar-nav-item"><a href="http://abhipandey.com/categories/">Categories</a></li>
      
      <li class="sidebar-nav-item"><a href="http://abhipandey.com/about/">About</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      
      
      
      
      
      
      
      
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2015/08/convert-github-wiki-to-static-site-with-themes/">Convert GitHub Wiki to Static Site with themes</a>
      </h1>
      <span class="post-date">Aug 7, 2015  &middot; <a href="http://abhipandey.com/2015/08/convert-github-wiki-to-static-site-with-themes/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/tips">tips</a><a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/github">github</a><a class="a_tag" href="http://abhipandey.com/tags/wiki">wiki</a><a class="a_tag" href="http://abhipandey.com/tags/pelican">pelican</a>
    
      </span>
      
      

<p>I recently wanted to setup a wiki so that I could convert it into a static html site with a proper themes.
What could be a possible use case for such a requirement:</p>

<ul>
<li>Manage the documentation of a product internally through <code>git</code> but publish it for clients/world through static site</li>
<li>Convert the uncolored wiki to a themed version</li>
<li>Allow serving of the wiki through web application frameworks like <code>Django</code>

<ul>
<li>It may allow you to have authentication system as a first step hurdle to stop everybody from giving access</li>
</ul></li>
</ul>

<p>Anyways, I went about the whole process and decided to jot down everything. Here I am taking <a href="https://github.com/mbostock/d3/wiki">D3 Wiki</a> as an example
which I will be converting into a static site. Let&rsquo;s begin.</p>


<figure >
    
        <img src="/images/wiki_to_static_1.png" alt="D3 Wiki using pelican" />
    
    
    <figcaption>
        <p>
        D3 Wiki using pelican
        
            
        
        </p> 
    </figcaption>
    
</figure>


<h1 id="setup-and-requirements:7286face6d57cb9f253b611714e09c9a">Setup and requirements</h1>

<p>What do we need to get started?</p>

<ul>
<li>We will need a static site generator

<ul>
<li>Let&rsquo;s use <a href="http://blog.getpelican.com"><code>pelican</code></a> for this demo</li>
</ul></li>
<li>An actual wiki

<ul>
<li>Since we are going to demo how to convert a wiki to static we will use an
<a href="https://github.com/showcases/projects-with-great-wikis">existing wiki from github</a></li>
<li>Let&rsquo;s choose <a href="https://github.com/mbostock/d3/wiki">D3 Wiki</a> for this instance</li>
</ul></li>
<li>Python environment so that <em>pelican</em> and <em>fabric</em> can be installed</li>
</ul>

<h2 id="virtual-environment-with-pelican:7286face6d57cb9f253b611714e09c9a">Virtual Environment with pelican</h2>

<p><strong>Setup the virtual environment</strong></p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>$ virtualenv ve_blog
$ <span style="color: #204a87">source</span> ve_blog/bin/activate
</pre></div>

<p><strong>Install pelican</strong></p>

<pre><code>$ pip install pelican
</code></pre>

<p><strong>Pelican Quickstart</strong></p>

<p>Setup pelican using <code>pelican-quickstart</code> so that all files are setup correctly for creating a static site.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>$ pelican-quickstart

Welcome to pelican-quickstart v3.6.3.

This script will <span style="color: #204a87">help</span> you create a new Pelican-based website.

Please answer the following questions so this script can generate the files
needed by Pelican.

    
&gt; Where <span style="color: #204a87; font-weight: bold">do</span> you want to create your new web site? <span style="color: #ce5c00; font-weight: bold">[</span>.<span style="color: #ce5c00; font-weight: bold">]</span> 
&gt; What will be the title of this web site? D3 WIKI
&gt; Who will be the author of this web site? abhi1010
&gt; What will be the default language of this web site? <span style="color: #ce5c00; font-weight: bold">[</span>en<span style="color: #ce5c00; font-weight: bold">]</span> 
&gt; Do you want to specify a URL prefix? e.g., http://example.com   <span style="color: #ce5c00; font-weight: bold">(</span>Y/n<span style="color: #ce5c00; font-weight: bold">)</span> n
&gt; Do you want to <span style="color: #204a87">enable</span> article pagination? <span style="color: #ce5c00; font-weight: bold">(</span>Y/n<span style="color: #ce5c00; font-weight: bold">)</span> Y
&gt; How many articles per page <span style="color: #204a87; font-weight: bold">do</span> you want? <span style="color: #ce5c00; font-weight: bold">[</span>10<span style="color: #ce5c00; font-weight: bold">]</span> 
&gt; What is your <span style="color: #204a87">time</span> zone? <span style="color: #ce5c00; font-weight: bold">[</span>Europe/Paris<span style="color: #ce5c00; font-weight: bold">]</span> Asia/Singapore
&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? <span style="color: #ce5c00; font-weight: bold">(</span>Y/n<span style="color: #ce5c00; font-weight: bold">)</span> Y
&gt; Do you want an auto-reload <span style="color: #000000; font-weight: bold">&amp;</span> simpleHTTP script to assist with theme and site development? <span style="color: #ce5c00; font-weight: bold">(</span>Y/n<span style="color: #ce5c00; font-weight: bold">)</span> Y
&gt; Do you want to upload your website using FTP? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
&gt; Do you want to upload your website using SSH? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
&gt; Do you want to upload your website using Dropbox? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
&gt; Do you want to upload your website using S3? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
&gt; Do you want to upload your website using Rackspace Cloud Files? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
&gt; Do you want to upload your website using GitHub Pages? <span style="color: #ce5c00; font-weight: bold">(</span>y/N<span style="color: #ce5c00; font-weight: bold">)</span> N
Done. Your new project is available at /Users/apandey/code/githubs/d3wiki
</pre></div>

<h2 id="get-the-wiki:7286face6d57cb9f253b611714e09c9a">Get the wiki</h2>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>$ git clone https://github.com/mbostock/d3.wiki.git

Cloning into <span style="color: #4e9a06">&#39;d3.wiki&#39;</span>...
remote: Counting objects: 12026, <span style="color: #204a87; font-weight: bold">done</span>.
remote: Compressing objects: 100% <span style="color: #ce5c00; font-weight: bold">(</span>67/67<span style="color: #ce5c00; font-weight: bold">)</span>, <span style="color: #204a87; font-weight: bold">done</span>.
remote: Total <span style="color: #0000cf; font-weight: bold">12026</span> <span style="color: #ce5c00; font-weight: bold">(</span>delta 607<span style="color: #ce5c00; font-weight: bold">)</span>, reused <span style="color: #0000cf; font-weight: bold">552</span> <span style="color: #ce5c00; font-weight: bold">(</span>delta 552<span style="color: #ce5c00; font-weight: bold">)</span>, pack-reused 11407
Receiving objects: 100% <span style="color: #ce5c00; font-weight: bold">(</span>12026/12026<span style="color: #ce5c00; font-weight: bold">)</span>, 9.92 MiB <span style="color: #000000; font-weight: bold">|</span> 1.49 MiB/s, <span style="color: #204a87; font-weight: bold">done</span>.
Resolving deltas: 100% <span style="color: #ce5c00; font-weight: bold">(</span>7595/7595<span style="color: #ce5c00; font-weight: bold">)</span>, <span style="color: #204a87; font-weight: bold">done</span>.
Checking connectivity... <span style="color: #204a87; font-weight: bold">done</span>.
</pre></div>

<p><strong>Setting the wiki as content for pelican</strong></p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>$ rmdir content
$ ln -s dr.wiki content
</pre></div>

<h1 id="why-simple-pelican-won-t-work-and-what-to-do:7286face6d57cb9f253b611714e09c9a">Why simple pelican won&rsquo;t work and what to do</h1>

<p>If you tried to simply call <code>pelican</code> command to build the static site, you will notice a lot of errors like:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>$ fab build

RROR: Skipping ./请求.md: could not find information about <span style="color: #4e9a06">&#39;NameError: title&#39;</span>
ERROR: Skipping ./过渡.md: could not find information about <span style="color: #4e9a06">&#39;NameError: title&#39;</span>
ERROR: Skipping ./选择器.md: could not find information about <span style="color: #4e9a06">&#39;NameError: title&#39;</span>
ERROR: Skipping ./选择集.md: could not find information about <span style="color: #4e9a06">&#39;NameError: title&#39;</span>
Done: Processed <span style="color: #0000cf; font-weight: bold">0</span> articles, <span style="color: #0000cf; font-weight: bold">0</span> drafts, <span style="color: #0000cf; font-weight: bold">0</span> pages and <span style="color: #0000cf; font-weight: bold">0</span> hidden pages in 3.47 seconds.
</pre></div>

<p>The problem is that pelican expects some variables to be defined in each <em>markdown</em> file before it can build the static file.
 Some of the variables are:</p>

<ul>
<li>Title</li>
<li>Slug</li>
<li>Date</li>
</ul>

<p>You may add your own <a href="http://docs.getpelican.com/en/3.6.3/content.html#file-metadata">ones as well</a> that you want.
 However, for our initial purposes, we will keep it simple and just try to add these.</p>

<p><strong>Next</strong>, how do we achieve this automation?
<strong><code>fab</code> is our answer.</strong></p>

<p>Let&rsquo;s write a function in python that will modify the markdown files and update them to add <em>Title, Slug, Date</em></p>

<p>We will edit <code>fabfile.py</code> and add a new function <code>create_wiki</code>:</p>

<pre><code>def create_wiki():
    files = []
    # Find all markdown files in content folder 
    for f in os.walk('./content/'):
        fpath = lambda x: os.path.join(f[0], x)
        for file in f[2]:
            fullpath = fpath(file)
            # print('f = {}'.format(fullpath))
            files.append(fullpath)
    filtered = [f for f in files if f.endswith('.md')]
    for file in filtered:
        with open(file, 'r+') as f:
            content = f.read()
            f.seek(0, 0)
            base = os.path.basename(file).replace('.md', '') 
            lines = ['Title: {}'.format(base.replace('-', ' ')),
                    'Slug: {}'.format(base),
                    'Date: 2015-08-07T14:59:18-04:00',
                    '', '']
            line = '\n'.join(lines)
            # Add the lines to the file
            f.write(line + '\n' + content)
        print(file)
    
    # build and serve the website
    build()
    serve()
</code></pre>

<p>Now you can call this function easily:</p>

<pre><code>fab create_wiki
</code></pre>

<p>The website can now be viewed at <a href="http://localhost:8000">http://localhost:8000</a></p>

<h1 id="what-happened-to-the-menu:7286face6d57cb9f253b611714e09c9a">What happened to the menu?</h1>

<p>There is a minor issue here though, you will notice that the menu is not available - it is all empty.
It is an easy addition. We will need to add some lines to <code>publishconf.py</code> to say what the menu is gonna be.</p>

<p>For my example, I have chosen to show up the following for <em>D3</em>:</p>

<ul>
<li>API Reference</li>
<li>Tutorials</li>
<li>Plugins</li>
</ul>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #8f5902; font-style: italic"># We don&#39;t want all pages to show up in menu</span>
<span style="color: #000000">DISPLAY_PAGES_ON_MENU</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #3465a4">False</span>

<span style="color: #8f5902; font-style: italic"># Choose the specific pages that should be part of menu</span>
<span style="color: #000000">MENUITEMS</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000; font-weight: bold">(</span> 
    <span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;HOME&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;/home.html&#39;</span><span style="color: #000000; font-weight: bold">),</span>
    <span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;API Reference&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;/API-Reference.html&#39;</span><span style="color: #000000; font-weight: bold">),</span>
    <span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;Tutorials&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;/Tutorials.html&#39;</span><span style="color: #000000; font-weight: bold">),</span>
    <span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;Plugins&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;/Plugins.html&#39;</span><span style="color: #000000; font-weight: bold">),</span>
<span style="color: #000000; font-weight: bold">)</span>
</pre></div>

<h1 id="choosing-themes:7286face6d57cb9f253b611714e09c9a">Choosing themes</h1>

<p>By default, pelican uses its own theme for the static site, but theme can be modified.
Let&rsquo;s choose <code>pelican bootstrap3</code> for our example here:</p>

<pre><code>git clone https://github.com/DandyDev/pelican-bootstrap3.git
</code></pre>

<p>Now, add the full path to the theme at the end of the <code>publishconf.py</code> file:</p>

<pre><code>THEME = &quot;/Users/apandey/code/githubs/pelican_coders/all_themes/pelican-bootstrap3&quot;
</code></pre>

<p>Finally, build your site again and serve:</p>

<pre><code>fab build
fab serve
</code></pre>


<figure >
    
        <img src="/images/wiki_to_static_2.png" alt="Pelican Bootstrap3 theme" />
    
    
    <figcaption>
        <p>
        Pelican Bootstrap3 theme
        
            
        
        </p> 
    </figcaption>
    
</figure>


<h1 id="get-all-this-code-in-github-repo:7286face6d57cb9f253b611714e09c9a">Get all this code in github repo</h1>

<p>I realize there maybe a few things going on here. You can get this whole setup as a project from
my <a href="https://github.com/abhi1010/d3wiki">github repo</a></p>

<p>You will find all this code and setup so that your life is easier. Just start with d3 wiki along with virtual environment and you will be fine.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2015/08/docker-container-cleanup-on-elastic-beanstalk/">Docker Container cleanup on Elastic Beanstalk</a>
      </h1>
      <span class="post-date">Aug 7, 2015  &middot; <a href="http://abhipandey.com/2015/08/docker-container-cleanup-on-elastic-beanstalk/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/continuous-delivery">continuous delivery</a><a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/aws">aws</a><a class="a_tag" href="http://abhipandey.com/tags/beanstalk">beanstalk</a><a class="a_tag" href="http://abhipandey.com/tags/docker">docker</a>
    
      </span>
      
      

<p>Sometimes you may notice that old containers are not cleaned up from Beanstalk environment. This may be due to your container still running as a ghost on the background. One way to find out about this is to quickly look into your
<code>/var/lib/docker/vfs/dir</code> directory whether it has too many folders.</p>

<p>Next, find out what container processes you have going on.
<code>[root@ip dir]# docker ps -a</code></p>

<p>You might see something like this:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #000000; font-style: italic">    CONTAINER ID        IMAGE                              COMMAND             CREATED             STATUS              PORTS               NAMES</span>
<span style="color: #000000; font-style: italic">    1611e5ebe2c0        aws_beanstalk/staging-app:latest   &quot;supervisord -n&quot;    About an hour ago                                           boring_galileo</span>
<span style="color: #000000; font-style: italic">    e59d0dd8bba1        aws_beanstalk/staging-app:latest   &quot;supervisord -n&quot;    About an hour ago                                           desperate_yalow</span>
<span style="color: #000000; font-style: italic">    3844d0e18c47        aws_beanstalk/staging-app:latest   &quot;supervisord -n&quot;    2 hours ago         Up 8 minutes        80/tcp              pensive_jang</span>
</pre></div>


<p>Ideally, we want to &ldquo;forcibly remove&rdquo; all images (and hence the folders from <code>/var/lib/docker/vfs/dir</code> directory) that are not in use anymore.
Just run the following to test whether it works:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #000000; font-style: italic">    docker rmi -f `docker images -aq`</span>
</pre></div>


<p>You might run into trouble where docker says that all those images already have a container that is running them. This means those container are orphaned but not killed as we thought them to be. Let&rsquo;s remove the shared volumes if any, for each one of them.</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #000000; font-style: italic">    docker rm -fv `docker ps -aq` </span>
</pre></div>


<p>This will</p>

<ul>
<li>kill the container</li>
<li>unlink the volumes</li>
</ul>

<p>You should see a lot more space now on your beanstalk instance.
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #000000; font-style: italic">    [root@ip dir]# df -h</span>
<span style="color: #000000; font-style: italic">    Filesystem      Size  Used Avail Use% Mounted on</span>
<span style="color: #000000; font-style: italic">    /dev/xvda1      7.8G  1.8G  5.9G  24% /</span>
<span style="color: #000000; font-style: italic">    devtmpfs        490M   96K  490M   1% /dev</span>
<span style="color: #000000; font-style: italic">    tmpfs           499M     0  499M   0% /dev/shm</span>
</pre></div>
</p>

<h1 id="last-resort:57533ab22b2cfb33b4a75f9cd178e950">Last Resort</h1>

<p>If you feel that all this is not working, then you can try one of the scripts provided by <code>docker</code> itself at
<a href="https://github.com/docker/docker/blob/master/contrib/nuke-graph-directory.sh">GitHub</a></p>

<p>It will delete the folders under <code>/var/lib/docker</code> and try to do it responsibly.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/06/partition-linked-list-around-a-value-x/">Partition Linked List around a Value X</a>
      </h1>
      <span class="post-date">Jun 9, 2014  &middot; <a href="http://abhipandey.com/2014/06/partition-linked-list-around-a-value-x/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a><a class="a_tag" href="http://abhipandey.com/tags/algo">algo</a><a class="a_tag" href="http://abhipandey.com/tags/linked-list">linked list</a>
    
      </span>
      
      

<p>How do you partition a list around a value x, such that all nodes less than x come before all nodes greater than or equal to x?</p>

<p>Well, there are some solutions possible. The solution, I came up with, is a bit convoluted but let me tell the idea behind it. You want to track the following:</p>

<ul>
<li><p>Two pointers to remember the beginning of the <em>lower</em> and <em>higher</em> series each</p></li>

<li><p>One pointer (<em>current</em>) to iterate through the Linked List</p></li>

<li><p>The list may itself start with higher or lower value compared to the <em>middleValue</em>. Thus we need to remember the beginning of the lower series (<em>lowerSeries</em>) as this is what we will send back</p></li>
</ul>

<p>Now that we have this out of the way, let&rsquo;s look at the code:</p>

<script type="text/javascript" src="http://gist.github.com/3ada1d15b5bda319a54c.js"></script>

<h1 id="code:8a20b19b0e16e5ac875728276c435d4c">Code</h1>

<p>As usual the code is available <a href="https://github.com/abhi1010/Algorithms/blob/master/Algo_codes/Node.cpp">here</a>:</p>

<p><a href="https://github.com/abhi1010/Algorithms">https://github.com/abhi1010/Algorithms</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/06/find-the-kth-to-last-element-of-a-singly-linked-list/">Find the Kth to Last Element of a Singly Linked List</a>
      </h1>
      <span class="post-date">Jun 8, 2014  &middot; <a href="http://abhipandey.com/2014/06/find-the-kth-to-last-element-of-a-singly-linked-list/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a><a class="a_tag" href="http://abhipandey.com/tags/algo">algo</a><a class="a_tag" href="http://abhipandey.com/tags/linked-list">linked list</a>
    
      </span>
      
      <p>It is possible to a recursive solutions but I will use a simple runner logic. Recursive solutions are usually less optimal.</p>

<p>Note here that, in our logic K=1 would return the last element in the linked list. Similarly, K=2 would return the second last element.</p>

<p>The suggested solution here is to use two pointers:</p>

<ul>
<li>One pointer will first travel K items into the list</li>
<li>Once that is done, both the pointers start travelling together, one item at a time</li>
<li>They keep travelling until the end of linked list is found</li>
<li>In that situation, the first pointer is at the end of the list, but the second pointer would have only reached till Kth element - this is what you want</li>
</ul>

<p>Let&rsquo;s have a look at the code:</p>

<script type="text/javascript" src="http://gist.github.com/43e289a9877fb9293680.js"></script>

<p>As usual the code is available <a href="https://github.com/abhi1010/Algorithms/blob/master/Algo_codes/Node.cpp">here</a>:</p>

<p><a href="https://github.com/abhi1010/Algorithms">https://github.com/abhi1010/Algorithms</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/06/removing-duplicates-from-linked-list/">Removing Duplicates from Linked List</a>
      </h1>
      <span class="post-date">Jun 7, 2014  &middot; <a href="http://abhipandey.com/2014/06/removing-duplicates-from-linked-list/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a><a class="a_tag" href="http://abhipandey.com/tags/algo">algo</a><a class="a_tag" href="http://abhipandey.com/tags/linked-list">linked list</a>
    
      </span>
      
      

<p>Duplicates can be removed in many ways:</p>

<ul>
<li><p>Create a new Linked List containing only unique items</p></li>

<li><p>Iterate through the Linked List and keep removing items that are being repeated</p></li>
</ul>

<p>The internal structure itself for the algo can either be map or set based. When using map the Node itself can be saved thereby making your life easier if you are creating a new Linked List. However sets can be very useful if we are just iterating through the Linked List and simply deleting items that are being repetetive. This is also a great spacesaver. Hence we decided to go down this path.</p>

<h1 id="code:33d170712a3b1643edfc33b9f231740c">Code</h1>

<p>As usual the <a href="https://github.com/abhi1010/Algorithms/blob/master/Algo_codes/Node.cpp">code</a> is available here:</p>

<p><a href="https://github.com/abhi1010/Algorithms">https://github.com/abhi1010/Algorithms</a></p>

<p>Here&rsquo;s a small sample as to how to do it:</p>

<script type="text/javascript" src="http://gist.github.com/e2b7117c20d0f591896f.js"></script>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/06/deleting-a-node-from-singly-linked-list/">Deleting a Node from Singly Linked List</a>
      </h1>
      <span class="post-date">Jun 7, 2014  &middot; <a href="http://abhipandey.com/2014/06/deleting-a-node-from-singly-linked-list/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/linked-list">linked list</a><a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a><a class="a_tag" href="http://abhipandey.com/tags/algo">algo</a>
    
      </span>
      
      

<p>Deleting a Node from Singly Linked List is rather straight forward.</p>

<ul>
<li><p>You have to know the head first of all</p></li>

<li><p>Start by checking the head if that&rsquo;s the one you are looking for</p></li>

<li><p>Keep moving forward and checking - always check for null pointers everywhere</p></li>
</ul>

<p>Before we talk about the code, let&rsquo;s see how Linked List is setup.
<!-- more --></p>

<script type="text/javascript" src="http://gist.github.com/33be440bf1012773b7e1.js"></script>

<p>Now, below is the code for it&hellip;.</p>

<script type="text/javascript" src="http://gist.github.com/bf9dbb193b4ff84ba3af.js"></script>

<h3 id="code:ca5ee7b35fae15e9d7ea6b34351195c6">Code</h3>

<p>As usual the code is available <a href="https://github.com/abhi1010/Algorithms/blob/master/Algo_codes/Node.cpp">here</a>:</p>

<p><a href="https://github.com/abhi1010/Algorithms">https://github.com/abhi1010/Algorithms</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/05/usage-of-typename/">Usage of typename</a>
      </h1>
      <span class="post-date">May 26, 2014  &middot; <a href="http://abhipandey.com/2014/05/usage-of-typename/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a>
    
      </span>
      
      <p>What is wrong with the following code?</p>

<script type="text/javascript" src="http://gist.github.com/0bd5e4d910e4d8a7672e.js"></script>

<p>The issue is very simple but hard to notice. If you try to compile this, you will get the following errors:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #000000; font-style: italic">    main.cpp:24:5: error: need &#39;typename&#39; before &#39;OuterStruct&lt;T2&gt;::InnerStruct&#39; because &#39;OuterStruct&lt;T2&gt;&#39; is a dependent scope</span>
<span style="color: #000000; font-style: italic">    OuterStruct&lt;T2&gt;::InnerStruct mUsingInner;</span>
<span style="color: #000000; font-style: italic">    ^</span>
<span style="color: #000000; font-style: italic">    main.cpp: In function &#39;int main(int, char**)&#39;:</span>
<span style="color: #000000; font-style: italic">    main.cpp:34:13: error: &#39;struct InnerStruct_Wrapper&lt;int&gt;&#39; has no member named &#39;mUsingInner&#39;</span>
<span style="color: #000000; font-style: italic">    wrapper.mUsingInner = innerStrct;</span>
</pre></div>


<p><strong>The Issue</strong></p>

<p>At least it straight away tells you something is wrong with <code>InnerStruct_Wrapper</code>. Here&rsquo;s what is happening:</p>

<ul>
<li><p>The compiler does not know that mUsingInner in that line is actually a variable of type &ldquo;OuterStruct<T2>::InnerStruct&rdquo;</p></li>

<li><p>InnerStruct will only be known later when it is being instantiated</p></li>

<li><p>Compiler cannot figure out what InnerStruct means here. It could be a type or a member variable</p></li>
</ul>

<p><strong>The Fix</strong></p>

<p>The only way here is to help the compiler by telling it beforehand that is going to be a class or struct type. The way to tell the compiler that something like this is supposed to be a type name is to throw in the keyword &ldquo;typename&rdquo;. The &ldquo;typename&rdquo; keyword has to be used everytime you want to tell the compiler that it should expect a Type in its place.</p>

<p>One place where this is used quite a lot is when templates have to implement iterators.</p>

<p><strong>Full Code</strong></p>

<p><strong><em>The full sample code, along with the fix</em></strong> is provided on <a href="http://coliru.stacked-crooked.com/a/b0ab70c458370048">Stacked-Crooked</a>.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/05/setting-up-your-vim...-your-style/">Setting up your VIM... Your style</a>
      </h1>
      <span class="post-date">May 19, 2014  &middot; <a href="http://abhipandey.com/2014/05/setting-up-your-vim...-your-style/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/bash">bash</a><a class="a_tag" href="http://abhipandey.com/tags/vim">vim</a><a class="a_tag" href="http://abhipandey.com/tags/tips">tips</a>
    
      </span>
      
      <p>Writing code using VIM can be a bit overwhelming but it helps creating a few shortcuts there to make your life easier. Here I will discuss a few.</p>

<ul>
<li>First of all, it is always a good idea to set up your tabs and spaces</li>
<li>Set up shortcuts for:

<ul>
<li><code>Toggling of Auto-Indent</code> while pasting source text; very useful in code (<em>F2</em> in my provided script)</li>
<li><code>Toggling of Auto-Scroll</code> of Split windows (<em>F3</em> in my provided script)</li>
<li><code>Macro for Folding functions</code> within the source code (<em><em>@q</em></em> in my provided script)</li>
<li><code>Smart case search</code> - based on whether the input is in caps or not</li>
<li><code>Toggling of Mouse Usage</code> in VIM window - to allow quick selection of text (<em>F12</em> in my provided script)</li>
</ul></li>
</ul>

<p>Please see the provided script below to have a look.</p>

<script type="text/javascript" src="http://gist.github.com/6f190c9f3afd42881ef5.js"></script>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/05/getting-a-group-of-lines-from-a-file/">Getting a group of lines from a file</a>
      </h1>
      <span class="post-date">May 19, 2014  &middot; <a href="http://abhipandey.com/2014/05/getting-a-group-of-lines-from-a-file/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a><a class="a_cat" href="http://abhipandey.com/categories/tips">tips</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/awk">awk</a><a class="a_tag" href="http://abhipandey.com/tags/bash">bash</a>
    
      </span>
      
      <p>I&rsquo;ve had this need quite a few times to pull out a section of logs that would begin with a particular line and end with another. grep is not exactly useful there because it only prints out sections based on line counters (using -A/B/C) lines based on a single search pattern.</p>

<p>I came up with a script that can run at almost same speeds using <code>grep/cat/awk</code>. <code>awk</code> is used to decide whether the end of the section has been reached or not. Some features of the script are:</p>

<ul>
<li><p>Since <code>awk</code> script only toggles one variable it works seamlessly without delaying the actual work</p></li>

<li><p>Works on gzip files as well</p></li>

<li><p>If you do not want to depend on grep or are unsure how many lines may be between begin and end keyword then replace gunzip with zcat and grep with cat.</p></li>

<li><p>Usage: <code>group filename printBeginKeyword printUntilKeyword NumOfLines</code></p></li>
</ul>

<p>Let&rsquo;s have a look at the script&hellip;.</p>

<script type="text/javascript" src="http://gist.github.com/924a5f12f3067ba0b3af.js"></script>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://abhipandey.com/2014/04/32-bit-vs-64-bit/">32 bit vs 64 bit</a>
      </h1>
      <span class="post-date">Apr 15, 2014  &middot; <a href="http://abhipandey.com/2014/04/32-bit-vs-64-bit/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://abhipandey.com/categories/code">code</a>
        
      <a class="a_tag" href="http://abhipandey.com/tags/c&#43;&#43;">c&#43;&#43;</a>
    
      </span>
      
      

<h3 id="when-to-use-64-bit:781115a00a27c6c773035866d9644c43">When to use 64-bit?</h3>

<p>If your application needs more than 2-4gb of data</p>

<ul>
<li>If your application intensively uses 64-bit arithmetic</li>
<li>* 32-bit x86 compiled applications are restricted to x86 instruction set, even when run on on a 64-bit machine</li>
<li>x64 supports 16 registers compared to just 8 in x86. If your code is computation intensive this may help a great deal</li>
</ul>

<h3 id="when-to-use-32-bit:781115a00a27c6c773035866d9644c43">When to use 32-bit?</h3>

<p>After reading so many great things about 32 bit, why would anybody still want to code against 32-bit? Simple reason - code compiled in 32-bit takes lesser memory. For example, a pointer in 64-bit machine is 8 bytes compared to 4 bytes with 32-bit. Now imagine how many pointers do you have going around in your code?</p>

<h3 id="when-to-not-use-64-bit:781115a00a27c6c773035866d9644c43">When to not use 64-bit?</h3>

<p>Sometimes if your code is running on a machine that does not have too much of space then it is a never a great idea to use 64-bit compilation because the same task can probably be done much better using 32-bit version. L2 and L3 caches will be utilized a lot more in 64-bit code (and a lot earlier as well) compared to 32-bit; on such systems.</p>

<h3 id="summary:781115a00a27c6c773035866d9644c43">Summary</h3>

<p>Always benchmark your code and ensure that the application actually needs more than 2-4Gb of space.</p>

      
    </div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        class="active"><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        ><a href="/page/6/">6</a></li>
        
        <li
        >
        <a href="/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/6/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "abhi1010";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


</body>
</html>

